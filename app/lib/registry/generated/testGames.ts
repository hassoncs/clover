// AUTO-GENERATED FILE - DO NOT EDIT
// Generated by scripts/generate-registry.mjs
// Run "pnpm generate:registry" to regenerate
// @generated-hash: 565d01ac185c4180

import type { GameDefinition } from "@slopcade/shared";
import type { TestGameEntry, TestGameMeta } from "../types";

import { metadata as meta_0 } from "@/lib/test-games/games/breakoutBouncer/game";
import { metadata as meta_1 } from "@/lib/test-games/games/comboFighter/game";
import { metadata as meta_2 } from "@/lib/test-games/games/dungeonCrawler/game";
import { metadata as meta_3 } from "@/lib/test-games/games/flappyBird/game";
import { metadata as meta_4 } from "@/lib/test-games/games/gemCrush/game";
import { metadata as meta_5 } from "@/lib/test-games/games/physicsStacker/game";
import { metadata as meta_6 } from "@/lib/test-games/games/pinballLite/game";
import { metadata as meta_7 } from "@/lib/test-games/games/rpgProgressionDemo/game";
import { metadata as meta_8 } from "@/lib/test-games/games/simplePlatformer/game";
import { metadata as meta_9 } from "@/lib/test-games/games/slopeggle/game";
import { metadata as meta_10 } from "@/lib/test-games/games/towerDefense/game";

// ============================================================================
// Type-safe ID union
// ============================================================================

export type TestGameId = "breakoutBouncer" | "comboFighter" | "dungeonCrawler" | "flappyBird" | "gemCrush" | "physicsStacker" | "pinballLite" | "rpgProgressionDemo" | "simplePlatformer" | "slopeggle" | "towerDefense";

// ============================================================================
// Static registry for lists/menus (no dynamic imports triggered)
// ============================================================================

export const TESTGAMES: ReadonlyArray<TestGameEntry & { id: TestGameId }> = [
  { id: "breakoutBouncer" as const, href: "/test-games/breakoutBouncer/game", meta: meta_0 },
  { id: "comboFighter" as const, href: "/test-games/comboFighter/game", meta: meta_1 },
  { id: "dungeonCrawler" as const, href: "/test-games/dungeonCrawler/game", meta: meta_2 },
  { id: "flappyBird" as const, href: "/test-games/flappyBird/game", meta: meta_3 },
  { id: "gemCrush" as const, href: "/test-games/gemCrush/game", meta: meta_4 },
  { id: "physicsStacker" as const, href: "/test-games/physicsStacker/game", meta: meta_5 },
  { id: "pinballLite" as const, href: "/test-games/pinballLite/game", meta: meta_6 },
  { id: "rpgProgressionDemo" as const, href: "/test-games/rpgProgressionDemo/game", meta: meta_7 },
  { id: "simplePlatformer" as const, href: "/test-games/simplePlatformer/game", meta: meta_8 },
  { id: "slopeggle" as const, href: "/test-games/slopeggle/game", meta: meta_9 },
  { id: "towerDefense" as const, href: "/test-games/towerDefense/game", meta: meta_10 },
];

export const TESTGAMES_BY_ID = Object.fromEntries(
  TESTGAMES.map(entry => [entry.id, entry])
) as Record<TestGameId, TestGameEntry & { id: TestGameId }>;

// ============================================================================
// Data loaders (async import for data modules)
// ============================================================================

const loaders: Record<TestGameId, () => Promise<{ default: GameDefinition }>> = {
  "breakoutBouncer": () => import("@/lib/test-games/games/breakoutBouncer/game"),
  "comboFighter": () => import("@/lib/test-games/games/comboFighter/game"),
  "dungeonCrawler": () => import("@/lib/test-games/games/dungeonCrawler/game"),
  "flappyBird": () => import("@/lib/test-games/games/flappyBird/game"),
  "gemCrush": () => import("@/lib/test-games/games/gemCrush/game"),
  "physicsStacker": () => import("@/lib/test-games/games/physicsStacker/game"),
  "pinballLite": () => import("@/lib/test-games/games/pinballLite/game"),
  "rpgProgressionDemo": () => import("@/lib/test-games/games/rpgProgressionDemo/game"),
  "simplePlatformer": () => import("@/lib/test-games/games/simplePlatformer/game"),
  "slopeggle": () => import("@/lib/test-games/games/slopeggle/game"),
  "towerDefense": () => import("@/lib/test-games/games/towerDefense/game"),
};

export async function loadTestGame(id: TestGameId): Promise<GameDefinition> {
  const loader = loaders[id];
  if (!loader) {
    throw new Error(`Unknown testGame id: ${id}. Available: ${Object.keys(loaders).join(", ")}`);
  }
  const module = await loader();
  return module.default;
}

export async function loadAllTestGames(): Promise<Array<{ id: TestGameId; data: GameDefinition }>> {
  const results = await Promise.all(
    TESTGAMES.map(async (entry) => ({
      id: entry.id,
      data: await loadTestGame(entry.id),
    }))
  );
  return results;
}
