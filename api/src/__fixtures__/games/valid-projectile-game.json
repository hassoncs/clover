{
  "metadata": {
    "id": "test-projectile-game",
    "title": "Ball Launcher",
    "description": "Launch balls to knock down blocks",
    "version": "1.0.0"
  },
  "world": {
    "gravity": { "x": 0, "y": 10 },
    "pixelsPerMeter": 50,
    "bounds": {
      "width": 15,
      "height": 12
    }
  },
  "templates": {
    "ball": {
      "id": "ball",
      "tags": ["projectile"],
      "physics": {
        "bodyType": "dynamic",
        "shape": "circle",
        "radius": 0.3,
        "density": 1.0,
        "friction": 0.3,
        "restitution": 0.6
      },
      "sprite": {
        "type": "circle",
        "radius": 0.3,
        "fill": "#FF5722"
      },
      "behaviors": [
        {
          "type": "destroy_on_collision",
          "withTags": ["ground"],
          "delay": 2000
        }
      ]
    }
  },
  "entities": [
    {
      "id": "launcher",
      "tags": ["player"],
      "transform": { "x": 2, "y": 9 },
      "physics": {
        "bodyType": "static",
        "shape": "box",
        "width": 1,
        "height": 1,
        "density": 1,
        "friction": 0.5,
        "restitution": 0
      },
      "sprite": {
        "type": "rect",
        "width": 1,
        "height": 1,
        "fill": "#4CAF50"
      },
      "behaviors": [
        {
          "type": "control",
          "controlType": "drag_to_aim"
        },
        {
          "type": "spawn_on_event",
          "event": "release",
          "entityTemplate": "ball",
          "maxCount": 5
        }
      ]
    },
    {
      "id": "target-1",
      "tags": ["target"],
      "transform": { "x": 10, "y": 9 },
      "physics": {
        "bodyType": "dynamic",
        "shape": "box",
        "width": 0.8,
        "height": 0.8,
        "density": 0.5,
        "friction": 0.5,
        "restitution": 0.2
      },
      "sprite": {
        "type": "rect",
        "width": 0.8,
        "height": 0.8,
        "fill": "#F44336"
      },
      "behaviors": [
        {
          "type": "destroy_on_collision",
          "withTags": ["projectile"]
        },
        {
          "type": "score_on_collision",
          "withTags": ["projectile"],
          "points": 100
        }
      ]
    },
    {
      "id": "target-2",
      "tags": ["target"],
      "transform": { "x": 11, "y": 9 },
      "physics": {
        "bodyType": "dynamic",
        "shape": "box",
        "width": 0.8,
        "height": 0.8,
        "density": 0.5,
        "friction": 0.5,
        "restitution": 0.2
      },
      "sprite": {
        "type": "rect",
        "width": 0.8,
        "height": 0.8,
        "fill": "#F44336"
      },
      "behaviors": [
        {
          "type": "destroy_on_collision",
          "withTags": ["projectile"]
        },
        {
          "type": "score_on_collision",
          "withTags": ["projectile"],
          "points": 100
        }
      ]
    },
    {
      "id": "ground",
      "tags": ["ground"],
      "transform": { "x": 7.5, "y": 11 },
      "physics": {
        "bodyType": "static",
        "shape": "box",
        "width": 15,
        "height": 1,
        "density": 1,
        "friction": 0.8,
        "restitution": 0
      },
      "sprite": {
        "type": "rect",
        "width": 15,
        "height": 1,
        "fill": "#795548"
      }
    }
  ],
  "rules": [],
  "winCondition": {
    "type": "destroy_all",
    "tag": "target"
  },
  "loseCondition": {
    "type": "lives_zero"
  },
  "initialState": {
    "score": 0,
    "lives": 5
  }
}
